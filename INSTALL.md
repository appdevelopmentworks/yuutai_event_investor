# インストールガイド - Yuutai Event Investor

このガイドでは、**実行ファイル版（配布版）**のインストールと初期設定方法を説明します。

---

## 📦 配布パッケージの内容

ダウンロードしたZIPファイルには以下が含まれています：

```
YuutaiEventInvestor-v1.0.0/
├── YuutaiEventInvestor.exe    # 実行ファイル（Windows）
├── YuutaiEventInvestor         # 実行ファイル（macOS/Linux）
├── config/
│   └── settings.json           # 設定ファイル
├── data/
│   ├── yuutai.db              # データベース（初期データ入り）
│   └── create_tables.sql      # データベーススキーマ
├── AppImg.ico                  # アイコンファイル
├── README.md                   # 使い方ガイド
├── LICENSE                     # ライセンス
└── その他依存ファイル
```

---

## 🚀 インストール手順

### Windows

#### 1. ZIPファイルの解凍

1. ダウンロードした `YuutaiEventInvestor-v1.0.0-Windows.zip` を右クリック
2. 「すべて展開...」を選択
3. 任意の場所に解凍（例: `C:\Program Files\YuutaiEventInvestor`）

#### 2. 実行ファイルの起動

1. 解凍したフォルダ内の `YuutaiEventInvestor.exe` をダブルクリック
2. Windows Defender SmartScreenが表示された場合：
   - 「詳細情報」をクリック
   - 「実行する」をクリック

#### 3. 初回起動の確認

アプリケーションが起動すると、以下が表示されます：
- 銘柄リスト（初期データ: 約2,224件）
- フィルターパネル
- 詳細分析パネル

**✅ インストール完了！**

---

### macOS

#### 1. ZIPファイルの解凍

1. ダウンロードした `YuutaiEventInvestor-v1.0.0-macOS.zip` をダブルクリック
2. 自動的に解凍されます

#### 2. アプリケーションフォルダへ移動

1. 解凍された `YuutaiEventInvestor.app` を「アプリケーション」フォルダにドラッグ

#### 3. 初回起動

1. 「アプリケーション」フォルダから `YuutaiEventInvestor.app` をダブルクリック
2. 「開発元を確認できないため開けません」と表示された場合：
   - `YuutaiEventInvestor.app` を右クリック（または Control+クリック）
   - 「開く」を選択
   - 「開く」をもう一度クリック

#### 4. セキュリティ設定（必要な場合）

1. システム環境設定 → セキュリティとプライバシー
2. 「このまま開く」ボタンをクリック

**✅ インストール完了！**

---

### Linux

#### 1. アーカイブの解凍

```bash
tar -xzf YuutaiEventInvestor-v1.0.0-Linux.tar.gz
cd YuutaiEventInvestor
```

#### 2. 実行権限の付与

```bash
chmod +x YuutaiEventInvestor
```

#### 3. 起動

```bash
./YuutaiEventInvestor
```

**✅ インストール完了！**

---

## 📊 初期データについて

### 含まれているデータ

配布版には**初期データベース（data/yuutai.db）**が同梱されています：

- 📦 **銘柄数**: 約2,224件（全12ヶ月分）
- 📅 **データ取得日**: 2025年11月
- 🏢 **データソース**: kabuyutai.com, yutai.net-ir.ne.jp, 96ut.com

### データの確認

初回起動時、以下の情報が表示されます：

```
銘柄リストに2224件の銘柄が表示されます：
- 3月優待: 849件
- 9月優待: 385件
- その他の月: 990件
```

---

## 🔄 データの更新方法

### オプション1: アプリ内から更新（推奨）

初期データが古くなった場合、アプリ内から最新データを取得できます：

1. メニューバー → **「ファイル」** → **「データ更新」**
2. データ取得ダイアログが表示されます
3. 「全月取得」または「特定月のみ」を選択
4. 「開始」ボタンをクリック
5. 完了まで待機（約5-10分）

**注意**: データ更新にはインターネット接続が必要です。

### オプション2: データベースファイルの差し替え

最新のデータベースファイルを入手した場合：

1. アプリケーションを終了
2. `data/yuutai.db` を最新版に置き換え
3. アプリケーションを再起動

---

## ⚙️ 初期設定（オプション）

### 設定ファイルの編集

`config/settings.json` をテキストエディタで開いて、以下を変更できます：

```json
{
  "data_period": "10y",           // バックテスト期間（デフォルト: 10年）
  "max_days_before": 120,         // 最大検索日数（デフォルト: 120日前）
  "min_trade_count": 3,           // 最小トレード回数（デフォルト: 3回）
  "notification_time": "09:00",   // 通知時刻（デフォルト: 9:00）
  "theme": "dark"                 // テーマ（dark/light）
}
```

### テーマの変更

アプリ内から変更可能：
1. メニューバー → 「表示」 → 「テーマ切替」
2. ダーク/ライトテーマを選択

---

## 🔧 トラブルシューティング

### 問題1: アプリが起動しない

**Windows:**
- Microsoft Visual C++ 再頒布可能パッケージをインストール
  - [ダウンロードリンク](https://aka.ms/vs/17/release/vc_redist.x64.exe)

**macOS:**
- システム環境設定 → セキュリティとプライバシー → 「このまま開く」

**Linux:**
- 必要なライブラリをインストール:
  ```bash
  sudo apt-get install libxcb-xinerama0 libxcb-cursor0
  ```

### 問題2: データベースが空

症状: 銘柄リストに何も表示されない

**解決策:**
1. `data/yuutai.db` ファイルが存在するか確認
2. 存在しない場合:
   - 配布ZIPファイルを再度解凍
   - または、アプリ内から「データ更新」を実行

### 問題3: データ更新ができない

症状: 「データ更新」を実行してもエラーが出る

**考えられる原因:**
- インターネット接続がない
- ファイアウォールがブロックしている
- データソースのWebサイトがメンテナンス中

**解決策:**
1. インターネット接続を確認
2. ファイアウォール設定を確認
3. しばらく時間を置いて再試行

### 問題4: 起動が遅い

初回起動時は、データベースの初期化のため10-20秒かかる場合があります。

**対策:**
- 2回目以降は高速化されます
- SSDを使用している場合は高速です

### 問題5: 文字化けが発生する

**Windows:**
- 日本語フォント（MS Gothic, Meiryo）がインストールされているか確認

**Linux:**
- 日本語フォントをインストール:
  ```bash
  sudo apt-get install fonts-noto-cjk
  ```

---

## 📚 次のステップ

インストールが完了したら、以下のドキュメントを参照してください：

1. **[README.md](README.md)** - 基本的な使い方
2. **[USER_MANUAL.md](docs/USER_MANUAL.md)** - 詳細な操作方法
3. **アプリ内ヘルプ** - メニューバー → 「ヘルプ」 → 「使い方」

---

## 🆘 サポート

問題が解決しない場合：

1. [GitHub Issues](https://github.com/yourusername/yuutai_event_investor/issues) で報告
2. 以下の情報を記載してください：
   - OS（Windows/macOS/Linux）とバージョン
   - アプリのバージョン
   - エラーメッセージのスクリーンショット
   - 再現手順

---

## ✅ インストール完了チェックリスト

- [ ] ZIPファイルを解凍した
- [ ] 実行ファイルを起動できた
- [ ] 銘柄リストに約2,224件が表示されている
- [ ] 銘柄をクリックすると詳細が表示される
- [ ] フィルター機能が動作する

すべてチェックできたら、インストール成功です！

---

**最終更新**: 2025-01-11
**バージョン**: 1.0.0
